<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="mail.json"></script>
    <script src="https://kit.fontawesome.com/e5b4206cbc.js" crossorigin="anonymous"></script>
    </style>
</head>

<body>
    <div class="container">
        <!-- nav -->
        <div style="flex-grow: 1" class="nav">
            <img src="images/person.png" alt="" style="border-radius: 50%; margin-top: 30px;">
            <form class="block">
                <button class="compose-button mt30" type="button" id="form" onclick="showForm()">Compose</button>
            </form>
            <nav class="menu">
                <ul>
                    <li>
                        <div>
                            <i class="fas fa-envelope mr10 mb10"></i>
                            <a href="#" target="_blank">Inbox</a>
                        </div>
                    </li>
                    <li>
                        <div>
                            <i class="fas fa-star mr10 mb10"></i>
                            <a href="#" target="">Starred</a>
                        </div>
                    </li>
                    <li>
                        <div>
                            <i class="fas fa-bookmark mr10 mb10"></i>
                            <a href="#" target="">Improtant</a>
                        </div>
                    </li>
                    <li>
                        <div>
                            <i class="fas fa-paper-plane mr10 mb10"></i>
                            <a href="#" target="">Sent</a>
                        </div>
                    </li>
                    <li>
                        <div>
                            <i class="fas fa-exclamation-triangle mr10 mb10"></i>
                            <a href="#" target="">Drafts</a>
                        </div>
                    </li>
                    <li>
                        <div>
                            <i class="fas fa-folder mr10 mb10"></i>
                            <a href="#" target="">All Mail</a>
                        </div>
                    </li>
                    <li>
                        <div>
                            <i class="fas fa-exclamation-circle mr10 mb10"></i>
                            <a href="#" target="">Spam</a>
                        </div>
                    </li>
                    <li>
                        <div>
                            <i class="fas fa-trash-alt mr10"></i>
                            <a href="#" target="">Trash</a>
                        </div>
                    </li>
                </ul>
            </nav>
            <hr class="ml30 mr30 ">
            <h3 class="ml30">Labels</h3>
            <nav class="menu pl30">
                <ul>
                    <li>
                        <div>
                            <i class="fas fa-circle mr10 mb10" style="color: yellow;"></i>
                            <a href="#" target="_blank">Personal</a>
                        </div>
                    </li>
                    <li>
                        <div>
                            <i class=" fas fa-circle mr10" style="color: red;"></i>
                            <a href="#" target="">Bussiness</a>
                        </div>
                    </li>
                    <li>
                        <div>
                            <i class=" fas fa-circle mr10" style="color: blue;"></i>
                            <a href="#" target="">Work</a>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>

        <!-- main -->
        <div style=" flex-grow: 7" class="main" id="main">
            <div style="margin: 20px 0;">
                <div class="w10"><img src="images/avr_1.png" alt="" style="width: 48px; border-radius: 50%;"></div>
                <div class="flex w75">
                    <div>
                        <div style="height: 25px;">
                            <h4 class="mt0">Welcome to Vietnam</h4>
                        </div>
                        <div>
                            <form class="ml10 fl">
                                <button style="background-color: green; border: none; color: white;" type="button"
                                    onclick="">Client</button>
                                <button style="background-color: blue; border: none; color: white;" type="button"
                                    onclick="">Work</button>
                            </form>
                        </div>
                    </div>
                    <div>
                        <p class="mt0" style="text-align: left;">
                            Welcome To your dashboard. here you can manage and coordinate any activities</p>
                    </div>
                </div>
                <div class="w10" style="padding: 15px 0px;">2 hours</div>
                <div class="w5">
                    <label class="container1">
                        <input type="checkbox">
                    </label>
                </div>
            </div>
            <div style="margin: 20px 0;">
                <div class="w10"><img src="images/avr_3.png" alt="" style="width: 48px; border-radius: 50%;"></div>
                <div class="flex w75">
                    <div>
                        <div style="height: 25px;">
                            <h4 class="mt0">Welcome to Vietnam</h4>
                        </div>
                        <div>
                            <form class="ml10 fl">
                                <button style="background-color: green; border: none; color: white;" type="button"
                                    onclick="">Client</button>
                                <button style="background-color: blue; border: none; color: white;" type="button"
                                    onclick="">Work</button>
                            </form>
                        </div>
                    </div>
                    <div>
                        <p class="mt0" style="text-align: left;">
                            Welcome To your dashboard. here you can manage and coordinate any activities</p>
                    </div>
                </div>
                <div class="w10" style="padding: 15px 0px;">2 hours</div>
                <div class="w5">
                    <label class="container1">
                        <input type="checkbox">
                    </label>
                </div>
            </div>
            <div></div>
        </div>

        <!-- mail form -->
        <div id='mailForm' class="mail-form">
            <div class="blocker" onclick="hidePopup()"></div>
            <div id="mfWrapper">
                <form name="mail">
                    <!-- head form -->
                    <div class="head-form">
                        <div style="flex-grow: 7" class="head-form-content">
                            <p>Compose</p>
                        </div>
                        <div class="head-form-close">
                            <div style="margin: 16px;" id="closeForm">
                                <span><i class="fas fa-times"></i></span>
                            </div>
                        </div>
                    </div>
                    <!-- form content -->
                    <div class="form-group">
                        <label for="">To</label>
                        <input type="text" name="txtTo">
                    </div>
                    <div class="form-group">
                        <label for="">Title</label>
                        <input type="text" name="txtTitle">
                    </div>
                    <div class='form-group'>
                        <label for="">Label</label>
                        <select id="lstLabel" name="ls">
                            <option value="0">Select label:</option>
                            <option value="Personal">Personal</option>
                            <option value="Work" style='background-color:white'>Work</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="">Message</label>
                        <input class="" style="height:150px" placeholder="What's on your mind?" name="txtMessage">
                    </div>
                    <!-- attach file + submit -->
                    <div class="form-submit">
                        <div class="attachment">
                            <button type="button" class="attachment-btn">
                                <span><i class="fas fa-plus"></i></span>
                                <span>attchment</span>
                                <input type="file" class="file-input" name="files[]" multiple=""
                                    style="opacity: 0;position: absolute;z-index: -1;">
                            </button>
                        </div>
                        <div class="submit">
                            <button type="submit" class="submit-btn" id="btnSend">send</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <script>
            "use strict";


            // pop-up
            const showForm = () => {
                document.getElementById('mailForm').style.display = 'block'
            }

            document.getElementById("closeForm").onclick = () => {
                document.getElementById('mailForm').style.display = 'none'
            }

            function hidePopup() {
                document.getElementById('mailForm').style.display = 'none'
            }

            //mail form 
            let userLst = [{
                    "v1": "ham",
                    "name": "Eiryyy",
                    "message": "Go until jurong point, crazy.. Available only in bugis n great world la e buffet... Cine there got amore wat...",
                    "label": "Personal",
                    "labelColor": "blue",
                    "avatar": "images/avr_1.png",
                    "important": "TRUE"
                },
                {
                    "v1": "ham",
                    "name": "shawflying",
                    "message": "Ok lar... Joking wif u oni...",
                    "label": "Work",
                    "labelColor": "red",
                    "avatar": "images/avr_2.png",
                    "important": "TRUE"
                },
                {
                    "v1": "spam",
                    "name": "JpMCarrilho",
                    "message": "Free entry in 2 a wkly comp to win FA Cup final tkts 21st May 2005. Text FA to 87121 to receive entry question(std txt rate)T&C's apply 08452810075over18's",
                    "label": "Bussiness",
                    "labelColor": "yellow",
                    "avatar": "images/avr_3.png",
                    "important": "TRUE"
                },
                {
                    "v1": "ham",
                    "name": "SuhwanCha",
                    "message": "U dun say so early hor... U c already then say...",
                    "label": "Personal",
                    "labelColor": "blue",
                    "avatar": "images/avr_4.png",
                    "important": "TRUE"
                },
                {
                    "v1": "ham",
                    "name": "sunilangadi2",
                    "message": "Nah I don't think he goes to usf, he lives around here though",
                    "label": "Personal",
                    "labelColor": "blue",
                    "avatar": "images/avr_1.png",
                    "important": "TRUE"
                },
                {
                    "v1": "spam",
                    "name": "j6montoya",
                    "message": "FreeMsg Hey there darling it's been 3 week's now and no word back! I'd like some fun you up for it still? Tb ok! XxX std chgs to send, �1.50 to rcv",
                    "label": "Personal",
                    "labelColor": "blue",
                    "avatar": "images/avr_2.png",
                    "important": "TRUE"
                },
                {
                    "v1": "ham",
                    "name": "sfate",
                    "message": "Even my brother is not like to speak with me. They treat me like aids patent.",
                    "label": "Work",
                    "labelColor": "red",
                    "avatar": "images/avr_3.png",
                    "important": "TRUE"
                },
                {
                    "v1": "ham",
                    "name": "amituuush",
                    "message": "As per your request 'Melle Melle (Oru Minnaminunginte Nurungu Vettam)' has been set as your callertune for all Callers. Press *9 to copy your friends Callertune",
                    "label": "Bussiness",
                    "labelColor": "yellow",
                    "avatar": "images/avr_4.png",
                    "important": "FALSE"
                },
                {
                    "v1": "spam",
                    "name": "mauroherlein",
                    "message": "WINNER!! As a valued network customer you have been selected to receivea �900 prize reward! To claim call 09061701461. Claim code KL341. Valid 12 hours only.",
                    "label": "Personal",
                    "labelColor": "blue",
                    "avatar": "images/avr_1.png",
                    "important": "FALSE"
                },
                {
                    "v1": "spam",
                    "name": "ParadoxZero",
                    "message": "Had your mobile 11 months or more? U R entitled to Update to the latest colour mobiles with camera for Free! Call The Mobile Update Co FREE on 08002986030",
                    "label": "Personal",
                    "labelColor": "blue",
                    "avatar": "images/avr_2.png",
                    "important": "FALSE"
                },
                {
                    "v1": "ham",
                    "name": "llazzaro",
                    "message": "I'm gonna be home soon and i don't want to talk about this stuff anymore tonight, k? I've cried enough today.",
                    "label": "Personal",
                    "labelColor": "blue",
                    "avatar": "images/avr_3.png",
                    "important": "FALSE"
                },
                {
                    "v1": "spam",
                    "name": "beeva-manueldepaz",
                    "message": "SIX chances to win CASH! From 100 to 20,000 pounds txt> CSH11 and send to 87575. Cost 150p/day, 6days, 16+ TsandCs apply Reply HL 4 info",
                    "label": "Personal",
                    "labelColor": "blue",
                    "avatar": "images/avr_4.png",
                    "important": "FALSE"
                },
                {
                    "v1": "spam",
                    "name": "damianmuti",
                    "message": "URGENT! You have won a 1 week FREE membership in our �100,000 Prize Jackpot! Txt the word: CLAIM to No: 81010 T&C www.dbuk.net LCCLTD POBOX 4403LDNW1A7RW18",
                    "label": "Personal",
                    "labelColor": "blue",
                    "avatar": "images/avr_1.png",
                    "important": "FALSE"
                },
                {
                    "v1": "ham",
                    "name": "apobbati",
                    "message": "I've been searching for the right words to thank you for this breather. I promise i wont take your help for granted and will fulfil my promise. You have been wonderful and a blessing at all times.",
                    "label": "Work",
                    "labelColor": "red",
                    "avatar": "images/avr_2.png",
                    "important": "FALSE"
                },
                {
                    "v1": "ham",
                    "name": "hwlv",
                    "message": "I HAVE A DATE ON SUNDAY WITH WILL!!",
                    "label": "Bussiness",
                    "labelColor": "yellow",
                    "avatar": "images/avr_3.png",
                    "important": "FALSE"
                },
                {
                    "v1": "spam",
                    "name": "haroldoramirez",
                    "message": "XXXMobileMovieClub: To use your credit, click the WAP link in the next txt message or click here>> http://wap. xxxmobilemovieclub.com?n=QJKGIGHJJGCBL",
                    "label": "Bussiness",
                    "labelColor": "yellow",
                    "avatar": "images/avr_4.png",
                    "important": "FALSE"
                },
                {
                    "v1": "ham",
                    "name": "jasonblanchard",
                    "message": "Oh k...i'm watching here:)",
                    "label": "Bussiness",
                    "labelColor": "yellow",
                    "avatar": "images/avr_1.png",
                    "important": "FALSE"
                },
                {
                    "v1": "ham",
                    "name": "BahiHussein",
                    "message": "Eh u remember how 2 spell his name... Yes i did. He v naughty make until i v wet.",
                    "label": "Bussiness",
                    "labelColor": "yellow",
                    "avatar": "images/avr_2.png",
                    "important": "FALSE"
                },
                {
                    "v1": "ham",
                    "name": "itsmevanessi",
                    "message": "Fine if that��s the way u feel. That��s the way its gota b",
                    "label": "Bussiness",
                    "labelColor": "yellow",
                    "avatar": "images/avr_3.png",
                    "important": "FALSE"
                },
                {
                    "v1": "spam",
                    "name": "nwjsmith",
                    "message": "England v Macedonia - dont miss the goals/team news. Txt ur national team to 87077 eg ENGLAND to 87077 Try:WALES, SCOTLAND 4txt/̼1.20 POBOXox36504W45WQ 16+",
                    "label": "Work",
                    "labelColor": "red",
                    "avatar": "images/avr_4.png",
                    "important": "FALSE"
                },
            ]

            var userHtml = []

            function createMail(name, message, label) {
                this.name = name;
                this.message = message;
                this.label = label
            }

            let formMail = document.forms.mail;

            const mailData = () => {
                let txtTo = document.querySelector('input[name="txtTo"]')
                let label = document.getElementById('lstLabel')
                let txtTitle = document.querySelector('input[name="txtTitle"]')
                let txtMessage = document.querySelector('input[name="txtMessage"]')

                let mail = new createMail(txtTo.value, `${txtTitle.value}. ${txtMessage.value}`, label.options[label
                    .selectedIndex].value)
                mail.v1 = 'to'
                user.push(mail)

                console.log(user)
                // console.log(label.options[label.selectedIndex].value)
                // console.log(txtMessage.value + txtTitle.value)
            }
            // mail form
            const itemList = (data) => {
                return `
                <div style="margin: 20px 0;">
                <div class="w10"><img src="${data.avatar}" alt="" style="width: 48px; border-radius: 50%;"></div>
                <div class="flex w75">
                    <div>
                        <div style="height: 25px;">
                            <h4 class="mt0">${data.name}</h4>
                        </div>
                        <div>
                            <form class="ml10 fl">
                                <button style="background-color: ${data.labelColor}; border: none; color: black;" type="button"
                                    onclick="">${data.label}</button>
                            </form>
                        </div>
                    </div>
                    <div>
                        <p class="mt0" style="text-align: left;">
                            ${subString(data.message.split(' '),0,10)}</p>
                    </div>
                </div>
                <div class="w10" style="padding: 15px 0px;">2 hours</div>
                <div class="w5">
                    <label class="container1">
                        <input type="checkbox">
                    </label>
                </div>
            </div>`
            }

            const renderItem = (res) => {
                let html = res.map(data => {
                    let dataUser = itemList(data)
                    console.log(dataUser)
                    userHtml.push(dataUser)
                    return dataUser
                }).join('')

                document
                    .querySelector('#main')
                    .insertAdjacentHTML('afterbegin', html)

            }

            const subString = (array,first,last) => {
                return array.slice(first, last)
            }

            renderItem(userLst)
        </script>
</body>

</html>